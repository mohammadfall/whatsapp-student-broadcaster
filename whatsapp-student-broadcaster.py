import streamlit as st
import pandas as pd

# ุฅุนุฏุงุฏ ุตูุญุฉ ุงูุชุทุจูู
st.set_page_config(page_title="ุฅุฑุณุงู ุฑุณุงูุฉ ูุงุชุณุงุจ ููุทูุงุจ", layout="centered")

# ุงูุนููุงู ุงูุฑุฆูุณู
st.title("๐ ุฅุฑุณุงู ุฑุณุงูุฉ ูุงุชุณุงุจ ููุทูุงุจ")
st.markdown("ุงุฎุชุฑ ุงููุงุฏุฉุ ุงูุชุจ ุงูุฑุณุงูุฉุ ูุงุถุบุท ุฅุฑุณุงู ๐")

# ุจูุงูุงุช ุงูุทูุงุจ - ูุซุงู (ุชูุฏุฑ ุชุบูุฑูุง ุจุฑุจุท ุฎุงุฑุฌู)
data = {
    "ุงูุงุณู": ["ูุญูุฏ", "ุณุงุฑุฉ", "ุฃุญูุฏ"],
    "ุงูุฑูู": ["0791111111", "0782222222", "0773333333"],
    "ุงููุงุฏุฉ": ["ูุณููููุฌู", "ูุงุฑูุง", "ูุณููููุฌู"]
}
df = pd.DataFrame(data)

# ุงุฎุชูุงุฑ ุงููุงุฏุฉ
materials = df["ุงููุงุฏุฉ"].unique().tolist()
selected_material = st.selectbox("ุงุฎุชุฑ ุงููุงุฏุฉ", materials)

# ุฅุฏุฎุงู ูุต ุงูุฑุณุงูุฉ
message = st.text_area("ุงูุชุจ ูุต ุงูุฑุณุงูุฉ", "ูุฒูุช ุงููุญุงุถุฑุฉ ุงูุฌุฏูุฏุฉ! ุดุบููุง ุนูู ุงูููุตุฉ")

# ุนุฑุถ ุงูุทูุงุจ ุงููุณุชูุฏููู ุญุณุจ ุงููุงุฏุฉ
target_students = df[df["ุงููุงุฏุฉ"] == selected_material]
st.markdown(f"ุนุฏุฏ ุงูุทูุงุจ: {len(target_students)}")

# ุนุฑุถ ุฌุฏูู ุงูุทูุงุจ
st.dataframe(
    target_students[["ุงูุงุณู", "ุงูุฑูู"]].reset_index(drop=True),
    use_container_width=True
)

# ุฒุฑ ุงูุฅุฑุณุงู
if st.button("๐ ุฅุฑุณุงู ุงูุฑุณุงูุฉ"):
    for _, row in target_students.iterrows():
        name = row["ุงูุงุณู"]
        phone = row["ุงูุฑูู"]
        # ููุงู ุชูููุฐ ุนูููุฉ ุงูุฅุฑุณุงู ูุงุญููุง
        st.success(f"โ ุชู ุชุฌููุฒ ุฑุณุงูุฉ ูู {name} ุนูู ุงูุฑูู {phone}")
